<!doctype html>
<html lang = "en-US">
    <head>
    <meta charset="UTF-8"> 
    <title>polygam</title>
    <link rel = "stylesheet" type = "text/css"href = "styles.css" />







    <script>
    
        var srcs = [
            //resources/d3.v5.js",       
            "https://d3js.org/d3.v5.min.js",
            //"resources/Tone.js",
            "https://cdnjs.cloudflare.com/ajax/libs/tone/13.0.1/Tone.min.js",
            "https://raw.githack.com/dorev/polygam/master/src/D3graph.js",
            "https://raw.githack.com/dorev/polygam/master/src/polygam-knob.js",
            "https://raw.githack.com/dorev/polygam/master/src/polygam-playstop.js",
            "https://raw.githack.com/dorev/polygam/master/src/polygam-note.js",
            "https://raw.githack.com/dorev/polygam/master/src/polygam-chord.js",
            "https://raw.githack.com/dorev/polygam/master/src/polygam-progression.js",
            "https://raw.githack.com/dorev/polygam/master/src/polygam-graph.js",
            "https://raw.githack.com/dorev/polygam/master/src/polygam-player.js",
            "https://raw.githack.com/dorev/polygam/master/src/polygam-sequencer.js",
            "https://raw.githack.com/dorev/polygam/master/src/polygam-app.js"
        ];
        
        var timestamp;
        
        function init(sources, callback)
        {
            if(!sources.length)
            {
                callback();
                return;
            }
            
            let source = sources.shift();    
            timestamp = Date.now();
            
            let e = document.createElement("script");
            e.setAttribute("src", source);
            e.setAttribute("type", "text/javascript");
            document.querySelector("head").appendChild(e);
            
            e.addEventListener('load', () => {
                //console.log(`loading ${source} took ${Date.now() - timestamp}ms`);
                init(sources, callback);
            });
        }
        
        
        function isLoaded()
        {
            document.querySelector(".app").appendChild(document.createElement("polygam-app"));
        }
        
        window.onload = init(srcs, isLoaded);
        
        </script>


</head>

<body>
<div class="container">
    
    <div class="header">
        <span class="rainbow">polygam</span>
    </div>
    
    <div class="welcome">
        dev order <br>
        X progression <br>
        X player <br>
        X sequencer <br>
        X graph with initial menu highlighting <br>
        X add app-loader <br>
        - graph tonnetze logic <br>
        - refactor chords (remove octave controls) <br>
        - add shortcuts to edit chords (inversion up/down, major-minor switch, shift-semitone left/right)
        - dual oscillators with mixing <br>
        - update player audio flow <br>
        - osc feeding polysynth properties <br>
        - add bass pedal on sequencer <br>
        - polish knob smoothness, enable touch control, add log scale<br>
        - tonnetze logic for random generation <br>
        - sequencer logic for random generation <br>
        - add memento ctrl-z <br>
    </div>
    
    <div class="app">
    </div>
    
    <div class="blog">
        blog
    </div> 
</div>


</body>
</html>